---
layout: default
title: เคลียร์ DNS Cache บน OS X
---

DNS System คือระบบที่จะช่วยให้เราไม่ต้องจำหมายเลข IP Address อันยืดยาว เช่น จาก `93.184.216.34` ก็แทนที่ด้วย `example.com` และยังช่วยอำนวยความสะดวกอื่นๆ อีกมากมาย เช่น mail server เป็นต้น

แล้วทำไมเราต้องสั่งเคลียร์มันด้วย เพราะว่าเจ้า dns record แต่ละอันจะมี expire time ของมันอยู่ ทำให้คอมของเราจะจำค่านั้นไปเรื่อยๆ จนกว่าจะหมดเวลาที่ว่า ดังนั้นหากมี dns ไหนที่เปลี่ยนไปแล้วแต่เครื่องเรายังจำของเดิมอยู่เราเลยจำเป็นต้องเคลียร์มันทิ้งไงล่ะ

สำหรับชาววินโดว์น่าจะคุ้นเลยก็การเปิด command prompt แล้วพิมพ์

```
ipconfig /flushdns
```

แต่ใน OS X นั้นต้องใช้

```bash
killall -HUP mDNSResponder
```

ผมเคยเป็นคนหนึ่งที่ไม่เคยจะจำคำสั่งข้างบนนั้นได้เลย ดังนั้นผมจะใช้วิธิการตั้ง alias command ให้จำง่ายๆ การตั้ง alias command นั้นคล้ายกับการทำ shortcut นั้นแหละ เช่น ผมขี้เกียจจะพิมพ์ `ls -lah` ผมก็ตั้งให้มันเหลือแค่ `l` ด้วยการเพิ่ม คำสั่งต่อไปนี้ลงใน `~/.bash_profile`

```bash
alias l='ls -lah'
```

และสำหรับการสั่งเคลียร์ dns แบบง่ายๆ ก็ให้ใส่เป็น

```bash
alias flushdns='sudo killall -HUP mDNSResponder'
```

จากนั้นถ้าผมต้องการสั่งก็เหลือแค่พิมพ์ `flushdns` ลงไปใน terminal เท่านั้น
